<?php 
$this->headScript()
        ->appendFile('js/featured.js')
        ;

$this->headLink()
        ->appendStylesheet($this->basePath('css/articles.css'))
        ->appendStylesheet($this->basePath('css/featured.css'))
        ;
?>
<?php $this->headStyle()->captureStart(); ?>
div#news {
    float: right;
    width: 234pt;
}

div#reviews, div#features {
    float: left;
    width: 231pt;
}
<?php $this->headStyle()->captureEnd(); ?>
<?php $this->headScript()->captureStart(); ?>
$(function() {
    var changeSlide = new AutoChangeSlide({
        maxSlides : 3,
        startSlide : 1
    });

    var intervalId = changeSlide.setupTiming();

    $('div#featured div#featuredArticles article').each(function() {
        $(this).hide();
        if ($(this).attr('value') == '1') {
            $(this).show();
        }
    });

    $('div#featured nav img').click(function() {
        window.clearInterval(intervalId);
        var articleId = $(this).attr('value');
        $('div#featured div#featuredArticles article').hide();
        $('div#featured div#featuredArticles article').each(function() {
            if ($(this).attr('value') === articleId) {
                $(this).show();
            }
        });
        intervalId = changeSlide.setupTiming();
    });
    
    $('div.articles article').click(function() {
        location.href = $(this).attr('value');
    });
});
<?php $this->headScript()->captureEnd(); ?>

<div id="news" class="articles">
    <h2>Latest News</h2>
    <?php foreach ($this->articles->news as $newsArticle): ?>
    <article value="<?php echo $this->url('article/profile', array('slug' => $newsArticle->slug)); ?>">
        <h3><?php echo $newsArticle->title; ?></h3>
        <p><?php echo trim($newsArticle->summary); ?>...</p>
        <p class="date">Date: <?php echo $newsArticle->publishDate; ?></p>
    </article>
    <?php endforeach; ?>
    <p class="more">See More...</p>
</div>

<div id="featured">
    <div id='featuredArticles'>
        <article value='1'>
            <img src="/images/AVENGERS-TRIO_650.jpg" />
            <section>
                <h3>Avengers? Why?????</h3>
                <p>Has that bored everyone of superhero movies?</p>
            </section>
        </article>
        <article value='2'>
            <img src="/images/NEW-ENTERPRISE-CREW_650_002.jpg" />
            <section>
                <h3>Bloody Remakes!</h3>
                <p>Has that bored everyone of superhero movies?</p>
            </section>
        </article>
        <article value='3'>
            <img src="/images/PREDATORS_650_XVI.jpg" />
            <section>
                <h3>Films no fun anymore!</h3>
                <p>Has that bored everyone of superhero movies?</p>
            </section>
        </article>
    </div>
    <nav>
        <img src="/images/AVENGERS-TRIO_650.jpg" value='1' />
        <img src="/images/NEW-ENTERPRISE-CREW_650_002.jpg" value='2' />
        <img src="/images/PREDATORS_650_XVI.jpg" value='3' />
        <img src="/images/AVENGERS-TRIO_650.jpg" />
        <img src="/images/NEW-ENTERPRISE-CREW_650_002.jpg" />
        <img src="/images/PREDATORS_650_XVI.jpg" />
    </nav>


</div>


<div id="reviews" class="articles">
    <h2>Latest Reviews</h2>
    <?php foreach ($this->articles->reviews as $reviewArticle): ?>
    <article value="<?php echo $this->url('article/profile', array('slug' => $reviewArticle->slug)); ?>">
        <img src="http://images.low-emedia.com/devastator.jpg" style="width: 100%"/>
        <h3><?php echo $reviewArticle->title; ?></h3>
        <p><?php echo trim($reviewArticle->summary); ?>...</p>
        <p class="date">Date: <?php echo $reviewArticle->publishDate; ?></p>
    </article>
    <?php endforeach; ?>
    <p class="more">See More...</p>
</div>
<div id="features" class="articles">
    <h2>Latest Features</h2>
    <?php if (isset($this->articles->features)): ?>
    <?php foreach ($this->articles->features as $reviewArticle): ?>
    <article value="<?php echo $this->url('article/profile', array('slug' => $reviewArticle->slug)); ?>">
        <img src="http://images.low-emedia.com/devastator.jpg" style="width: 100%"/>
        <h3><?php echo $reviewArticle->title; ?></h3>
        <p><?php echo trim($reviewArticle->summary); ?>...</p>
        <p class="date">Date: <?php echo $reviewArticle->publishDate; ?></p>
    </article>
    <?php endforeach; ?>
    <?php endif; ?>
    <p class="more">See More...</p>
</div>
